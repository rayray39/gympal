{% extends "gym/layout.html" %}
{% load static %}

{% block body %}
    <h2>Marketplace</h2>

    {% if user.is_authenticated %}
        <!-- form for filtering the trainers -->
        <form id="filter-form-div">
            <h4>Filter Trainers</h4>
            <div class="form-group">
                <input type="number" id="filter_years_of_exp" name="filter_years_of_exp" placeholder="Years of Experience" class="form-control" max="99">
            </div>
            <div class="form-group">
                <input type="text" id="filter_desc" name="filter_desc" placeholder="Description (comma separated)" class="form-control">
            </div>
            <input class="btn btn-primary" type="submit" value="Apply">
            <input id="filter-form-reset" class="btn btn-primary" type="button" value="Reset">
        </form>

        <!-- show all the trainers available -->
        <div id="trainer-marketplace-div"></div>

        <!-- show all the trainers that are filtered out based on user preference, from the filter-form-div -->
        <div id="filtered-trainer-div"></div>

        <!-- show all the trainers that were Starred by the current user -->
        <div id="starred-trainers-div"></div>

        <!-- show the profile page of the individual trainer, whose card had been clicked -->
        <div id="trainer-profile-div"></div>
        
        <!-- form for client to leave a review on this trainer's profile page -->
        <form id="review-form">
            <div class="form-group">
                <input type="text" id="review-content" name="review-content" class="form-control" required placeholder="Leave A Review">
            </div>
            <input type="submit" class="btn btn-primary" value="Post">
        </form>
        <!-- show the reviews made by all the clients for this trainer on the profile page -->
        <div id="trainer-reviews-div"></div>

        <!-- form for client to book this trainer -->
        <form id="booking-form-div">
            <h4>Book This Trainer</h4>
            <div class="form-group">
                <input type="date" id="booking-datetime" name="booking-datetime" class="form-control" required>
            </div>
            <div class="form-group">
                <input type="number" name="booking-duration" id="booking-duration" class="form-control" placeholder="Duration of Session" required min="1" max="3">
            </div>
            <div class="form-group">
                <input type="text" name="booking-location" id="booking-location" class="form-control" placeholder="Location of Gym" required>
            </div>
            <input type="submit" class="btn btn-primary" value="Confirm Booking">
        </form>

        <!-- this page shows all the bookings that have been made by the current user -->
        <div id="all-bookings-div"></div>
    {% endif %}

{% endblock %}

{% block script %}
    <script src="{% static 'gym/index.js' %}"></script>
{% endblock %}